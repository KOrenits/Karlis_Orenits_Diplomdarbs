<div class="container">
	<div class="header">
		<img src="../../../assets/logo.png" alt="Logo">
		<button mat-raised-button color="accent" (click)="openRules()">Noteikumi</button>
	</div>
	<ng-container *ngIf="!isGameStarted && pageUser?.isHost">
		<button class="button" mat-raised-button color="primary" (click)="startGame()">Sākt spēli</button>
	</ng-container>
	<div class="main-container" *ngIf="isGameStarted">
		<div class="grid">
			<ng-container *ngFor="let tiles of tilesList">
				<ng-container *ngFor="let tile of tiles">
					<div class="grid-computer defaultTile" *ngIf="!tile.selected" (click)="clickTile(tile)"></div>
					<div *ngIf="tile.selected" class="grid-computer" [ngClass]="{ 
																				'shipTile': tile.tileType == 'ship',
																				'emptyTile': tile.tileType == 'empty',
																				'goldenShipTile': tile.tileType == 'goldenShip',
																				'pirateTile': tile.tileType == 'pirate',
																				'mermaidTile': tile.tileType == 'mermaid',
																				'krakenTile': tile.tileType == 'kraken'
																				}">
					</div>
				</ng-container>
			</ng-container>
		</div>
		<div class="users players-list">
			<h4>Pieslēgušies spēlētāji</h4>
			<ul>
				<li *ngFor="let user of usersList; let i = index">
					<span *ngIf="pageUser.playerId == i" class="checkmark">&#10004;&nbsp;</span>
					<span *ngIf="pageUser.playerId != i"></span>
					<span [ngClass]="{
									'userTurn': user.currentTurn,
									'userNoTurn': !user.currentTurn
          							}">{{ user.nickname }}</span>

					- Punkti: {{ user.points }}
				</li>
			</ul>
		</div>
	</div>
	<div class="main-container" *ngIf="!isGameStarted">
		<div class="box">
			<p *ngIf="pageUser?.isHost">Spēlētāji gaida, kad uzsāksiet spēli</p>
			<p *ngIf="!pageUser?.isHost">Gaida kamēr {{hostUser?.nickname}} uzsāks spēli</p>
			<span class="loader"></span>
		</div>
		<div class="users players-list">
			<h4>Pieslēgušies spēlētāji</h4>
			<ul>
				<li *ngFor="let user of usersList; let i = index">
					<span *ngIf="pageUser.playerId == i" class="checkmark">&#10004;&nbsp;</span>
					<span *ngIf="pageUser.playerId != i"></span>
					{{ user.nickname }} - Punkti: {{ user.points }}
				</li>
			</ul>
			<button mat-raised-button color="warn" (click)="leaveRoom(pageUser)">Pamest istabu</button>
		</div>
	</div>
	<div class="footer">
		<p>Foggy sea © 2023</p>
	</div>
</div>

<!-- <div class="center" >
  <button mat-raised-button (click)="startGame()" *ngIf="!isGameStarted && user.isHost">Start game</button>
</div> -->
<!--  <ng-container *ngFor="let user of usersList">
  <div class="center" *ngIf="!isGameStarted && user.isHost">
    <button mat-raised-button (click)="startGame()">Start game</button>
  </div>
</ng-container> -->

<!-- <div class="players-list" >
      <div *ngIf="!joined">
        <input type="text" [(ngModel)]="nickname" placeholder="Enter your nickname" />
        <input type="text" [(ngModel)]="room" placeholder="Enter the room name" />
        <button (click)="joinRoom()">Join</button>
      </div>
      <div *ngIf="joined">
        <h2>Users in {{ room }}</h2>
        <ul>
          <li *ngFor="let user of users">{{ user.nickname }}</li>
        </ul>
      </div>
    </div> -->


<!-- <div id="users" class=" players-list">
    lalala
  </div>

  <button mat-raised-button class="nextgame">
    Next game
  </button> -->

<!-- <div (click)="tilePressed(tile)" class="grid-computer" [ngClass]="{'defaultTile': !tile.selected,
'shipTile': (tile.selected == true) && (tile.tileType == tileTypes.ship)}"></div> -->

<!-- <ng-container *ngFor="let something of tilesList">
  <ng-container *ngFor="let word of something">
  <div class="word" *ngIf="!word.selected" (click)="revealSquare(word)" > </div>

  <div
    class="word"
    *ngIf="word.selected"
    [ngStyle]="{
      'background-color': 'black',
      'border-color': 'black'
    }"
  >
  </div>
</ng-container>
</ng-container> -->

<!-- <div class="game">
  <div class="center" *ngIf="!words">
    <button mat-raised-button (click)="startGame()">Start game</button>
  </div>

  <div class="flex-container">
    <ng-container *ngFor="let word of words">
      <div
        class="word"
        (click)="clickWord(word)"
      >
      </div>
      <div
        class="word"
        *ngIf="word.selected"
        [ngStyle]="{
          'background-color': 'black',
          'border-color': 'black'
        }"
      >
      </div>
    </ng-container>
  </div>
  <button mat-raised-button (click)="nextGame()" class="nextgame" *ngIf="words">
    Next game
  </button>
</div> -->